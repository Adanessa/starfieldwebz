{% load custom_filters %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Resource Search Results</title>
</head>
<body>
    <h1>Resource Search Results</h1>
    
    {% if planets %}
        <ul>
        {% for planet in planets %}
            <li>
                {{ planet.system.name }} - {{ planet.name }} - {{ planet.resources }}
                <!-- Loop to include the stuff checked at the awesome website -->
                {% for field, include in fields_to_include.items %}
                    {% if include %}
                        <br>{{ field|capfirst }}: {{ planet|get_attribute:field }}
                    {% endif %}
                {% endfor %}
            </li>
        {% endfor %}
        </ul>
    {% else %}
        <p>No planets found based on your criteria.</p>
    {% endif %}
    
    <a href="{% url 'planets:resource_search' %}">Back to Search</a>
</body>
</html>

